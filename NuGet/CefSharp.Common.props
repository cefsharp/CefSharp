<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <CefSharpCommonBinaries32 Include="$(MSBuildThisFileDirectory)..\CefSharp\x86\*.*" />
    <CefSharpCommonBinaries64 Include="$(MSBuildThisFileDirectory)..\CefSharp\x64\*.*" />
    <CefSharpCommonBinariesAnyCPU Include="$(MSBuildThisFileDirectory)..\CefSharp\**\*.*" />

    <CefSharpBrowserProcessCore32 Include="$(MSBuildThisFileDirectory)..\CefSharp\x86\CefSharp.BrowserSubprocess.Core.dll" />
    <CefSharpBrowserProcessCore64 Include="$(MSBuildThisFileDirectory)..\CefSharp\x64\CefSharp.BrowserSubprocess.Core.dll" />
  </ItemGroup>
  
  <Choose>
    <When Condition="'$(Platform)' == 'x64'">
      <ItemGroup>
        <Reference Include="CefSharp">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x64\CefSharp.dll</HintPath>
          <Private Condition="!$(TargetFramework.StartsWith('netcoreapp'))">False</Private>
        </Reference>
        <Reference Include="CefSharp.Core">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x64\CefSharp.Core.dll</HintPath>
          <Private Condition="!$(TargetFramework.StartsWith('netcoreapp'))">False</Private>
        </Reference>
      </ItemGroup>      
      <!-- Additional references for .NET Core -->
      <ItemGroup Condition="$(TargetFramework.StartsWith('netcoreapp'))">
        <Reference Include="CefSharp.BrowserSubprocess.Core">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x64\CefSharp.BrowserSubprocess.Core.dll</HintPath>
        </Reference>
      </ItemGroup>
    </When>
    <!-- x86, Win32 and AnyCPU -->
    <Otherwise>
      <ItemGroup>
        <Reference Include="CefSharp">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x86\CefSharp.dll</HintPath>
          <Private Condition="!$(TargetFramework.StartsWith('netcoreapp'))">False</Private>
        </Reference>
        <Reference Include="CefSharp.Core">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x86\CefSharp.Core.dll</HintPath>
          <Private Condition="!$(TargetFramework.StartsWith('netcoreapp'))">False</Private>
        </Reference>
      </ItemGroup>      
      <!-- Additional references for .NET Core -->
      <ItemGroup Condition="$(TargetFramework.StartsWith('netcoreapp'))">
        <Reference Include="CefSharp.BrowserSubprocess.Core">
          <HintPath>$(MSBuildThisFileDirectory)..\CefSharp\x86\CefSharp.BrowserSubprocess.Core.dll</HintPath>
        </Reference>
      </ItemGroup>
    </Otherwise>
  </Choose>
</Project>
